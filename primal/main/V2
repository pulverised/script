
-- Load LumeUI (raw link)
local LumeUI = loadstring(game:HttpGet("https://raw.githubusercontent.com/SSHRKs/LumeUI/main/main.lua"))()

-- Create main window
local Window = LumeUI:CreateWindow({
    Name = "Primal Hub",
    Icon = "hexagon",
    Size = UDim2.fromOffset(520, 320),
})

------------------------------
-- MAIN TAB
------------------------------
local MainTab = Window:Tab({Title = "Main", Icon = "gamepad"})

-- Team Section
MainTab:Section({Title = "üë• Team"})
MainTab:Button({
    Title = "Join Criminal",
    Callback = function()
        local crimpad = workspace.Warrior.Body.Seats:GetChildren()[3]
        local oldpos = crimpad.Position
        local Players = game:GetService("Players")
        local LocalPlayer = Players.LocalPlayer

        local function getTargetHRP()
            if LocalPlayer.Character then
                return LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
            end
            return nil
        end

        crimpad.Size = Vector3.new(10, 1, 5)
        crimpad.Transparency = 0
        crimpad.BrickColor = BrickColor.new("Bright red")
        crimpad.Material = Enum.Material.Neon

        local hrp = getTargetHRP()
        if hrp then
            crimpad.Position = hrp.Position - Vector3.new(0, hrp.Size.Y/2 + crimpad.Size.Y/2, 0)
        end

        task.delay(5, function()
            crimpad.Position = oldpos
            crimpad.Size = Vector3.new(1,1,1)
            crimpad.Transparency = 1
            crimpad.BrickColor = BrickColor.new("Bright red")
            crimpad.Material = Enum.Material.SmoothPlastic
        end)
    end
})

-- Body Section
MainTab:Section({Title = "üèÉ Body"})
MainTab:Button({
    Title = "No Jump Cooldown",
    Callback = function()
        local Event = game:GetService("ReplicatedStorage").Events.UpdateStat
        firesignal(Event.OnClientEvent, "Stamina", math.huge)
    end
})

MainTab:Button({
    Title = "Skip Treadmill",
    Callback = function()
        local Event = game:GetService("ReplicatedStorage").Events.UpdateStat
        for i = 1, 4 do
            firesignal(Event.OnClientEvent, "Runspeed", 1)
        end
    end
})

------------------------------
-- VISUALS TAB
------------------------------
local VisualsTab = Window:Tab({Title = "Visuals", Icon = "eye"})
VisualsTab:Section({Title = "ESP / GUI"})

-- Killfeed
local killfeedEnabled = false
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Players = game:GetService("Players")
local Event = ReplicatedStorage:WaitForChild("Events"):WaitForChild("Killfeed")
local player = Players.LocalPlayer

local gui, feedFrame, layout

local function InitKillfeed()
    if gui then return end
    gui = Instance.new("ScreenGui")
    gui.Name = "KillfeedUI"
    gui.ResetOnSpawn = false
    gui.Parent = player:WaitForChild("PlayerGui")

    feedFrame = Instance.new("Frame")
    feedFrame.Size = UDim2.new(0, 300, 1, 0)
    feedFrame.Position = UDim2.new(1, -310, 0, 0)
    feedFrame.BackgroundTransparency = 1
    feedFrame.Parent = gui

    layout = Instance.new("UIListLayout")
    layout.Parent = feedFrame
    layout.SortOrder = Enum.SortOrder.LayoutOrder
    layout.VerticalAlignment = Enum.VerticalAlignment.Top
    layout.Padding = UDim.new(0, 6)
end

local function AddKill(killerName, killerColor, weapon, victimName, victimColor, headshot, showHealth)
    if not killfeedEnabled then return end
    if not gui then InitKillfeed() end

    local entry = Instance.new("TextLabel")
    entry.Size = UDim2.new(1, 0, 0, 20)
    entry.BackgroundTransparency = 1
    entry.TextScaled = false
    entry.RichText = true
    entry.Font = Enum.Font.SourceSansBold
    entry.TextXAlignment = Enum.TextXAlignment.Left
    entry.TextStrokeTransparency = 0.8
    entry.TextSize = 18

    local text = string.format(
        "<font color='#%02x%02x%02x'>%s</font> <font color='#ff00ff'>[%s]</font> <font color='#%02x%02x%02x'>%s</font>",
        math.floor(killerColor.R * 255),
        math.floor(killerColor.G * 255),
        math.floor(killerColor.B * 255),
        killerName,
        weapon,
        math.floor(victimColor.R * 255),
        math.floor(victimColor.G * 255),
        math.floor(victimColor.B * 255),
        victimName
    )

    if headshot then text = text .. " üíÄ" end
    if showHealth then text = text .. " ‚ù§Ô∏è" end

    entry.Text = text
    entry.Parent = feedFrame

    task.delay(5, function()
        if entry then
            for i = 1, 20 do
                entry.TextTransparency = i / 20
                task.wait(0.05)
            end
            entry:Destroy()
        end
    end)
end

Event.OnClientEvent:Connect(AddKill)

VisualsTab:Toggle({
    Title = "Custom Killfeed",
    Default = false,
    Callback = function(value)
        killfeedEnabled = value
        if value then
            InitKillfeed()
        end
    end
})

-- Team ESP
local TeamESP = {}
local runningTeam = false
local playerConnectionsTeam = {}
local globalConnectionsTeam = {}

local teamColors = {
    ["Inmates"] = Color3.fromRGB(255,165,0),
    ["Guards"] = Color3.fromRGB(0,0,255),
    ["Warden"] = Color3.fromRGB(0,0,139),
    ["Criminals"] = Color3.fromRGB(255,0,0),
}

local function updateHighlightTeam(player)
    if player == Players.LocalPlayer then return end
    local character = player.Character
    if not character then return end

    if character:FindFirstChild("TeamHighlight") then
        character.TeamHighlight:Destroy()
    end

    local teamName = player.Team and player.Team.Name or ""
    local color = teamColors[teamName]
    if not color then return end

    local highlight = Instance.new("Highlight")
    highlight.Name = "TeamHighlight"
    highlight.FillColor = color
    highlight.OutlineColor = color
    highlight.Adornee = character
    highlight.Parent = character
end

local function monitorPlayerTeam(player)
    if player == Players.LocalPlayer then return end
    local conns = {}

    table.insert(conns, player.CharacterAdded:Connect(function()
        if runningTeam then updateHighlightTeam(player) end
    end))

    table.insert(conns, player:GetPropertyChangedSignal("Team"):Connect(function()
        if runningTeam then updateHighlightTeam(player) end
    end))

    if player.Character then
        updateHighlightTeam(player)
    end

    playerConnectionsTeam[player] = conns
end

function TeamESP.Start()
    if runningTeam then return end
    runningTeam = true
    for _, player in ipairs(Players:GetPlayers()) do
        monitorPlayerTeam(player)
    end
    table.insert(globalConnectionsTeam, Players.PlayerAdded:Connect(monitorPlayerTeam))
end

function TeamESP.Stop()
    runningTeam = false
    for player, conns in pairs(playerConnectionsTeam) do
        for _, c in ipairs(conns) do
            c:Disconnect()
        end
    end
    playerConnectionsTeam = {}

    for _, c in ipairs(globalConnectionsTeam) do
        c:Disconnect()
    end
    globalConnectionsTeam = {}

    for _, player in ipairs(Players:GetPlayers()) do
        if player.Character then
            local highlight = player.Character:FindFirstChild("TeamHighlight")
            if highlight then
                highlight:Destroy()
            end
        end
    end
end

VisualsTab:Toggle({
    Title = "Team ESP",
    Default = false,
    Callback = function(value)
        if value then
            TeamESP.Start()
        else
            TeamESP.Stop()
        end
    end
})

------------------------------
-- HOSTILE DETECTOR
------------------------------
local Players = game:GetService("Players")
local hostileEnabled = false
local HIGHLIGHT_COLOR = Color3.fromRGB(255, 0, 255)
local IGNORED_TEAMS = {["Guards"] = true, ["Warden"] = true}

local function setHighlight(character, enabled)
    if not character then return end
    local highlight = character:FindFirstChild("HostileHighlight")

    if enabled then
        if not highlight then
            highlight = Instance.new("Highlight")
            highlight.Name = "HostileHighlight"
            highlight.FillColor = HIGHLIGHT_COLOR
            highlight.OutlineColor = Color3.fromRGB(255, 255, 255)
            highlight.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
            highlight.Parent = character
        end
    else
        if highlight then highlight:Destroy() end
    end
end

local function isIgnored(player)
    return player.Team and IGNORED_TEAMS[player.Team.Name]
end

local function updatePlayer(player)
    if player == Players.LocalPlayer then return end
    local character = player.Character
    if not character then return end

    local status = player:FindFirstChild("Status")
    local hostile = status and status:FindFirstChild("Hostile")
    if not hostile then
        setHighlight(character, false)
        return
    end

    setHighlight(character, hostile.Value and not isIgnored(player) and hostileEnabled)
end

local function monitorPlayer(player)
    player.CharacterAdded:Connect(function()
        task.wait(1)
        updatePlayer(player)
    end)
    player.CharacterRemoving:Connect(function()
        updatePlayer(player)
    end)
    player:GetPropertyChangedSignal("Team"):Connect(function()
        updatePlayer(player)
    end)

    local status = player:FindFirstChild("Status")
    if status then
        local hostile = status:FindFirstChild("Hostile")
        if hostile then
            hostile.Changed:Connect(function()
                updatePlayer(player)
            end)
        end
    end
end

for _, player in ipairs(Players:GetPlayers()) do
    if player ~= Players.LocalPlayer then
        monitorPlayer(player)
        updatePlayer(player)
    end
end

Players.PlayerAdded:Connect(function(player)
    monitorPlayer(player)
    task.wait(1)
    updatePlayer(player)
end)

Players.PlayerRemoving:Connect(function(player)
    updatePlayer(player)
end)

-- Toggleable Hostile Detector in Visuals Tab
VisualsTab:Toggle({
    Title = "Hostile Detector",
    Default = false,
    Callback = function(state)
        hostileEnabled = state
        for _, player in ipairs(Players:GetPlayers()) do
            updatePlayer(player)
        end
    end
})

-- Optional safety loop to catch missed updates
task.spawn(function()
    while true do
        if hostileEnabled then
            for _, player in ipairs(Players:GetPlayers()) do
                updatePlayer(player)
            end
        end
        task.wait(2)
    end
end)

------------------------------
-- RAGE TAB SAFE
------------------------------
local RageTab = Window:Tab({Title = "Rage", Icon = "zap"})
RageTab:Section({Title = "Combat Utilities"})

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local Workspace = game:GetService("Workspace")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local RunService = game:GetService("RunService")

local safe = function(callback) pcall(callback) end
local taskSpawn = task.spawn

-- SPINBOT
local Spinbot = {}
local runningSpin = false
local spinConnection
local spinSpeed = 50

function Spinbot.Start()
    if runningSpin then return end
    runningSpin = true
    taskSpawn(function()
        safe(function()
            local character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
            local hrp = character:WaitForChild("HumanoidRootPart")
            spinConnection = RunService.RenderStepped:Connect(function()
                if runningSpin and hrp then
                    hrp.CFrame = hrp.CFrame * CFrame.Angles(0, math.rad(spinSpeed), 0)
                end
            end)
        end)
    end)
end

function Spinbot.Stop()
    runningSpin = false
    if spinConnection then
        spinConnection:Disconnect()
        spinConnection = nil
    end
end

RageTab:Toggle({
    Title = "Spinbot",
    Default = false,
    Callback = function(state) safe(function()
        if state then Spinbot.Start() else Spinbot.Stop() end
    end) end
})

-- HOSTILE TELEPORTER
local teleportingHostile = false
local DISTANCE_AHEAD = -5
local UPDATE_INTERVAL = 1

local function isHostile(player)
    return pcall(function()
        if not player or player == LocalPlayer then return false end
        if player.Team and player.Team.Name == "Criminals" then return true end
        if player.Team and player.Team.Name == "Inmates" then
            local status = player:FindFirstChild("Status")
            local hostile = status and status:FindFirstChild("Hostile")
            return hostile and hostile.Value
        end
        return false
    end)
end

local function teleportAndAnchor(targetChar)
    safe(function()
        local lpChar = LocalPlayer.Character
        if not lpChar then return end
        local myHRP = lpChar:FindFirstChild("HumanoidRootPart")
        local targetHRP = targetChar and targetChar:FindFirstChild("HumanoidRootPart")
        if myHRP and targetHRP then
            targetHRP.CFrame = CFrame.new(myHRP.Position + myHRP.CFrame.LookVector * DISTANCE_AHEAD)
            targetHRP.Anchored = true
        end
    end)
end

RageTab:Toggle({
    Title = "Hostile Teleporter",
    Default = false,
    Callback = function(state)
        teleportingHostile = state
        if state then
            taskSpawn(function()
                while teleportingHostile do
                    for _, player in ipairs(Players:GetPlayers()) do
                        if isHostile(player) and player.Character then
                            teleportAndAnchor(player.Character)
                        end
                    end
                    task.wait(UPDATE_INTERVAL)
                end
            end)
        else
            for _, player in ipairs(Players:GetPlayers()) do
                local hrp = player.Character and player.Character:FindFirstChild("HumanoidRootPart")
                if hrp then hrp.Anchored = false end
            end
        end
    end
})

-- POLICE TELEPORTER
local policeTeleporting = false
local trackedPolice = {}

local function isPoliceTarget(player)
    return player.Team and (player.Team.Name == "Guards" or player.Team.Name == "Warden")
end

local function teleportPoliceInFront(targetChar)
    safe(function()
        local lpChar = LocalPlayer.Character
        if not lpChar then return end
        local myHRP = lpChar:FindFirstChild("HumanoidRootPart")
        local targetHRP = targetChar and targetChar:FindFirstChild("HumanoidRootPart")
        local humanoid = targetChar and targetChar:FindFirstChild("Humanoid")
        if myHRP and targetHRP and humanoid and not humanoid.Sit then
            targetHRP.CFrame = CFrame.new(myHRP.Position + myHRP.CFrame.LookVector * DISTANCE_AHEAD)
            targetHRP.Anchored = true
        end
    end)
end

local function monitorPolicePlayer(player)
    player:GetPropertyChangedSignal("Team"):Connect(function()
        if isPoliceTarget(player) then
            trackedPolice[player] = player.Character
        else
            local char = trackedPolice[player]
            if char then
                local hrp = char:FindFirstChild("HumanoidRootPart")
                if hrp then hrp.Anchored = false end
                trackedPolice[player] = nil
            end
        end
    end)
end

RageTab:Toggle({
    Title = "Police Teleporter",
    Default = false,
    Callback = function(state)
        policeTeleporting = state
        if state then
            for _, player in ipairs(Players:GetPlayers()) do
                monitorPolicePlayer(player)
                if isPoliceTarget(player) then trackedPolice[player] = player.Character end
            end
            Players.PlayerAdded:Connect(function(player)
                monitorPolicePlayer(player)
                if isPoliceTarget(player) then trackedPolice[player] = player.Character end
            end)

            taskSpawn(function()
                while policeTeleporting do
                    local lpHRP = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
                    if lpHRP then
                        for _, char in pairs(trackedPolice) do
                            teleportPoliceInFront(char)
                        end
                    end
                    task.wait(UPDATE_INTERVAL)
                end
            end)
        else
            for _, char in pairs(trackedPolice) do
                local hrp = char:FindFirstChild("HumanoidRootPart")
                if hrp then hrp.Anchored = false end
            end
            trackedPolice = {}
        end
    end
})

-- NO DOORS
local function setDoors(enabled)
    local paths = {
        { parent = Workspace, name = "Doors" },
        { parent = Workspace:FindFirstChild("Map"), name = "doors" }
    }
    for _, info in ipairs(paths) do
        local folder = info.parent and info.parent:FindFirstChild(info.name) or ReplicatedStorage:FindFirstChild(info.name)
        if folder then
            folder.Parent = enabled and ReplicatedStorage or (folder.Name == "Doors" and Workspace or Workspace.Map)
        end
    end
end

RageTab:Toggle({
    Title = "No Doors",
    Default = false,
    Callback = setDoors
})

------------------------------
-- WALLHACK (Rage Tab)
------------------------------
local collisionDisabled = false
local originalStates = {}

-- safe get (returns nil if not found)
local function safeWaitForChild(parent, child)
    if parent:FindFirstChild(child) then
        return parent[child]
    end
    return nil
end

-- cache original states
local function cacheOriginalStates(targets)
    for _, target in ipairs(targets) do
        if target and target.Parent then
            for _, descendant in ipairs(target:GetDescendants()) do
                if descendant:IsA("BasePart") then
                    originalStates[descendant] = {
                        CanCollide = descendant.CanCollide,
                        CanQuery = descendant.CanQuery
                    }
                end
            end
        end
    end
end

-- apply or restore
local function setCollisionAndQuery(targets, ignoreParts, enabled)
    for _, target in ipairs(targets) do
        if target and target.Parent then
            for _, descendant in ipairs(target:GetDescendants()) do
                if descendant:IsA("BasePart") then
                    local skip = false
                    for _, ignore in ipairs(ignoreParts) do
                        if ignore and ignore.Parent and descendant == ignore then
                            skip = true
                            break
                        end
                    end
                    if not skip then
                        if enabled then
                            local original = originalStates[descendant]
                            if original then
                                descendant.CanCollide = original.CanCollide
                                descendant.CanQuery = original.CanQuery
                            end
                        else
                            descendant.CanCollide = false
                            descendant.CanQuery = false
                        end
                    end
                end
            end
        end
    end
end

-- ‚úÖ targets (safe lookup, no error if missing)
local targets = {
    safeWaitForChild(workspace, "Map") and safeWaitForChild(workspace.Map, "PrisonMap"),
    safeWaitForChild(workspace, "Prison_ITEMS") and safeWaitForChild(workspace.Prison_ITEMS, "vendingMachines"),
    safeWaitForChild(workspace, "Prison_ITEMS") and safeWaitForChild(workspace.Prison_ITEMS, "breakables"),
    safeWaitForChild(workspace, "Prison_ITEMS") and safeWaitForChild(workspace.Prison_ITEMS, "generator"),
    workspace:FindFirstChild("Leaderboard"),
    workspace:FindFirstChild("Doors"),
    workspace:FindFirstChild("CellBars"),
    workspace:FindFirstChild("NPCS"),
    workspace:FindFirstChild("Vehicles"),
    workspace:FindFirstChild("FuseBox"),
    workspace:FindFirstChild("PoliceStuff"),
    workspace:FindFirstChild("Visitors"),
    workspace:FindFirstChild("Trains"),
    workspace:FindFirstChild("Cameras"),
    workspace:FindFirstChild("Crates"),
    workspace:FindFirstChild("Prison_lights"),
    workspace:FindFirstChild("Spotlights"),
    workspace:FindFirstChild("Elevators"),
    workspace:FindFirstChild("Security"),
    safeWaitForChild(workspace, "Map") and safeWaitForChild(workspace.Map, "Outside"),
    safeWaitForChild(workspace, "Map") and safeWaitForChild(workspace.Map, "MainSection"),
    safeWaitForChild(workspace, "Map") and safeWaitForChild(workspace.Map, "Cells"),
    safeWaitForChild(workspace, "Map") and safeWaitForChild(workspace.Map, "Cafeteria"),
    safeWaitForChild(workspace, "Map") and safeWaitForChild(workspace.Map, "Yard"),
    safeWaitForChild(workspace, "Map") and safeWaitForChild(workspace.Map, "Sewer"),
    safeWaitForChild(workspace, "Map") and safeWaitForChild(workspace.Map, "Armory"),
    safeWaitForChild(workspace, "Map") and safeWaitForChild(workspace.Map, "Offices"),
    safeWaitForChild(workspace, "Map") and safeWaitForChild(workspace.Map, "Library"),
    safeWaitForChild(workspace, "Map") and safeWaitForChild(workspace.Map, "Gym"),
    safeWaitForChild(workspace, "Map") and safeWaitForChild(workspace.Map, "Solitary"),
    safeWaitForChild(workspace, "Map") and safeWaitForChild(workspace.Map, "Garage")
}

-- ‚úÖ ignore parts (safe)
local ignoreParts = {}
do
    local prisonMap = workspace:FindFirstChild("Map") and workspace.Map:FindFirstChild("PrisonMap")
    if prisonMap and prisonMap:FindFirstChild("MainSection") then
        local main = prisonMap.MainSection
        local function addIfExists(path)
            if path then table.insert(ignoreParts, path) end
        end
        addIfExists(main:FindFirstChild("Library") and main.Library:FindFirstChild("Roof") and main.Library.Roof:FindFirstChild("Part"))
        addIfExists(main:FindFirstChild("Cafeteria") and main.Cafeteria:FindFirstChild("Roof") and main.Cafeteria.Roof:FindFirstChild("Part"))
        addIfExists(main:FindFirstChild("Yard") and main.Yard:FindFirstChild("Walls") and main.Yard.Walls:FindFirstChild("Part"))
        addIfExists(main:FindFirstChild("Solitary") and main.Solitary:FindFirstChild("Roof") and main.Solitary.Roof:FindFirstChild("Part"))
        addIfExists(main:FindFirstChild("Offices") and main.Offices:FindFirstChild("Roof") and main.Offices.Roof:FindFirstChild("Part"))
        addIfExists(main:FindFirstChild("Armory") and main.Armory:FindFirstChild("Roof") and main.Armory.Roof:FindFirstChild("Part"))
    end
end

-- cache once
cacheOriginalStates(targets)

-- RageTab Toggle
RageTab:Toggle({
    Title = "Wallhack",
    Default = false,
    Callback = function(state)
        collisionDisabled = state
        setCollisionAndQuery(targets, ignoreParts, not state)
    end
})

---------------------------------
-- EASY BANK (Rage Tab)
---------------------------------
local lasersEnabled = true
local targets = {}

-- safe lookup
local function safeGetBankTargets()
    local found = {}
    local map = workspace:FindFirstChild("Map")
    if map and map:FindFirstChild("Town") then
        local town = map.Town
        local bank = town:FindFirstChild("BANK!?")
        if bank then
            -- 4th child (if exists)
            local children = bank:GetChildren()
            if #children >= 4 then
                table.insert(found, children[4])
            end
            -- Lasers folder
            local lasers = bank:FindFirstChild("Lasers")
            if lasers then
                table.insert(found, lasers)
            end
        end
    end
    return found
end

-- toggle function
local function toggleLasers(state)
    lasersEnabled = state
    targets = safeGetBankTargets()
    for _, container in ipairs(targets) do
        if container then
            for _, obj in ipairs(container:GetDescendants()) do
                if obj:IsA("BasePart") then
                    if lasersEnabled then
                        obj.CanTouch = false
                        obj.Color = Color3.fromRGB(0, 177, 0) -- ‚úÖ green when toggled ON
                    else
                        obj.CanTouch = true
                        obj.Color = Color3.fromRGB(170, 0, 0) -- üî¥ back to normal red
                    end
                end
            end
        end
    end
end

-- RageTab toggle
RageTab:Toggle({
    Title = "Easy Bank",
    Default = false,
    Callback = function(state)
        toggleLasers(state) -- ON = Easy Bank (green), OFF = normal (red)
    end
})

------------------------------
-- MISC TAB
------------------------------
local MiscTab = Window:Tab({Title = "Misc", Icon = "settings"})
MiscTab:Section({Title = "Utilities"})

-- Add Keys / Skins (locked)
MiscTab:Button({
    Title = "Add Keys",
    Description = "üîí This feature is locked",
    Callback = function() end,
    Locked = true
})

MiscTab:Button({
    Title = "Add Skins",
    Description = "üîí This feature is locked",
    Callback = function() end,
    Locked = true
})

MiscTab:Button({
    Title = "Money Giver",
    Callback = function()
        local ReplicatedStorage = game:GetService("ReplicatedStorage")
        local Event = ReplicatedStorage:WaitForChild("SkinFolder"):WaitForChild("Events"):WaitForChild("CashBuy")
        
        Event:FireServer(-30000, 1)
    end
})

---------------------------------
-- FUSEBOX LOOPER (Misc Tab)
---------------------------------
local fuseLoop = false

MiscTab:Toggle({
    Title = "Fusebox Looper",
    Default = false,
    Callback = function(state)
        fuseLoop = state
        if fuseLoop then
            task.spawn(function()
                while fuseLoop do
                    pcall(function()
                        game:GetService("ReplicatedStorage").Events.FuseBoxHit:FireServer(workspace:WaitForChild("FuseBox"))
                    end)
                    task.wait(0.01) -- spam speed (adjust if needed)
                end
            end)
        end
    end
})

MiscTab:Toggle({
    Title = "Spam Dropper",
    Default = false,
    Callback = function(state)
        local success, err = pcall(function()
            local Players = game:GetService("Players")
            local RS = game:GetService("ReplicatedStorage")
            local LocalPlayer = Players.LocalPlayer

            local RequestToolEvent = RS:FindFirstChild("Events") and RS.Events:FindFirstChild("RequestTool")
            local DropToolEvent = RS:FindFirstChild("Events") and RS.Events:FindFirstChild("DropTool")

            if not RequestToolEvent or not DropToolEvent then
                warn("Spam Dropper: Events not found in this game.")
                return
            end

            local requests = {{"Inmate",1},{"Inmate",2},{"Inmate",3}}
            local dropNames = {"Crude Knife","Glock-17","UZI"}

            local Backpack = LocalPlayer:FindFirstChild("Backpack")
            local Char = LocalPlayer.Character

            local function spamDropper()
                while state do
                    if not Char or not Backpack then
                        task.wait(0.1)
                        continue
                    end
                    -- RequestTool spam
                    for _, args in ipairs(requests) do
                        pcall(function() RequestToolEvent:FireServer(table.unpack(args)) end)
                        task.wait(0.001)
                    end
                    -- DropTool spam
                    for _, name in ipairs(dropNames) do
                        local tool = Backpack:FindFirstChild(name)
                        if tool and Char then
                            if tool.Parent ~= Char then
                                pcall(function() tool.Parent = Char end)
                                task.wait(0.001)
                            end
                            pcall(function() DropToolEvent:FireServer(tool) end)
                            task.wait(0.001)
                        end
                    end
                end
            end

            if state then
                task.spawn(spamDropper)
            end
        end)

        if not success then
            warn("Spam Dropper failed:", err)
        end
    end
})

------------------------------
-- SETTINGS TAB
------------------------------
local SettingsTab = Window:Tab({Title = "Settings", Icon = "cog"})
SettingsTab:Section({Title = "UI Settings"})

SettingsTab:DropDown({
    Title = "Theme",
    Value = "Dark",
    Option = {"Dark", "Light", "Amethyst"},
    Callback = function(option)
        LumeUI:SetTheme(option)
    end
})

SettingsTab:Toggle({
    Title = "Transparency",
    Default = true,
    Callback = function(state)
        LumeUI:SetTransparency(state)
    end
})

SettingsTab:Keybind({
    Title = "Toggle UI",
    Callback = function(key)
        LumeUI:SetToggleKey(key)
    end
})

SettingsTab:Button({
    Title = "Destroy UI",
    Callback = function()
        LumeUI:Close()
    end
})

------------------------------
-- CREDITS TAB
------------------------------
local CreditsTab = Window:Tab({Title = "Credits", Icon = "user"})
CreditsTab:Section({Title = "About"})
CreditsTab:Paragraph({
    Title = "Created by: Moldedblood & Dollosha",
    Desc = "Thank you for using Primal Hub!"
})
